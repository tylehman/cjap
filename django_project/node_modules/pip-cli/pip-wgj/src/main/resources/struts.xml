<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <constant name="struts.enable.DynamicMethodInvocation" value="true"/>
    <constant name="struts.custom.i18n.resources" value="AppResources"/>
    <constant name="struts.devMode" value="false"/>
    <constant name="struts.multipart.saveDir" value="/AsimsTemp/"/>
    <constant name="struts.enable.SlashesInActionNames" value="true"/>
    <!-- 限制Struts2上传文件的大小：struts默认大小 2097152 = 2M   --> 
    <constant name="struts.multipart.maxSize" value="10001000000" />
    <!-- Add packages here -->
    <!--<include file="struts-cfg/account.xml"/>-->
    <!--<include file="struts-cfg/sso.xml"/>-->
    <!--<include file="struts-cfg/main.xml"/>-->


    <package name="wgj-default" extends="json-default">
        <result-types>
            <result-type name="openflashchart" class="com.pip.util.OpenFlashChartResult"/>
        </result-types>
        <interceptors>
            <interceptor-stack name="pipStack">
                <interceptor-ref name="exception"/>
                <interceptor-ref name="login"/>
                <interceptor-ref name="page"/>
                <interceptor-ref name="defaultStack"/>
            </interceptor-stack>
            <interceptor name="exception" class="com.pip.interceptor.ExceptionInterceptor"/>
            <interceptor name="login" class="com.pip.interceptor.LoginInterceptor"/>
            <interceptor name="page" class="com.pip.interceptor.PageInterceptor"/>
        </interceptors>
        <default-interceptor-ref name="pipStack"/>
        <global-results>
            <result name="exception">/WEB-INF/website/common/error.jsp</result>
            <result name="AJAX" type="json">
                <param name="excludeProperties">
                    actionErrors,actionMessages,errorMessages,errors,fieldErrors,locale,texts
                </param>
                <param name="ignoreHierarchy">false</param>
            </result>
            <result name="IMAGE" type="stream">
                <param name="contentType">application/octet-stream</param>
                <param name="bufferSize">2048</param>
                <param name="inputName">stream</param>
            </result>
            <result name="EXCEL" type="stream">
                <param name="contentType">application/vnd.ms-excel</param>
                <param name="contentDisposition">attachment;filename="${fileName}"</param>
                <param name="bufferSize">10240</param>
                <param name="inputName">stream</param>
            </result>
            <result name="WORD" type="stream">
			    <param name="contentType">application/msword;charset=GBK</param>
                <param name="contentDisposition">attachment;filename="${fileName}"</param>
                <param name="bufferSize">10240</param>
                <param name="inputName">stream</param>
			</result>
            <result name="MEDIA" type="stream">
                <param name="contentType">application/octet-stream;charset=GBK</param>
                <param name="contentDisposition">attachment;filename="${fileName}"</param>
                <param name="bufferSize">10240</param>
                <param name="inputName">stream</param>
            </result>
            <result name="noright">/WEB-INF/website/common/noright.jsp</result>
            <result name="java_login" type="redirectAction">
                <param name="actionName">login</param>
                <param name="namespace">/account</param>
            </result>
            <result name="java_index" type="redirectAction">
                <param name="actionName">index</param>
                <param name="namespace">/</param>
            </result>
            <result name="pipv1_login" type="redirectAction">
                <param name="actionName">common/redirect/dotnet/login</param>
                <param name="namespace">/</param>
            </result>
            <result name="pipv1_logout" type="redirectAction">
                <param name="actionName">common/redirect/dotnet/logout</param>
                <param name="namespace">/</param>
            </result>
            <result name="pipv1_index" type="redirectAction">
                <param name="actionName">common/redirect/dotnet/index</param>
                <param name="namespace">/</param>
            </result>
            <result name="sso_hub" type="redirectAction">
                <param name="actionName">sso/hub</param>
                <param name="namespace">/</param>
            </result>
        </global-results>
        <global-exception-mappings>
            <exception-mapping result="exception" exception="java.lang.Exception"></exception-mapping>
        </global-exception-mappings>
    </package>
</struts>
